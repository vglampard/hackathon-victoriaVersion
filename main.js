/// gif shows immediately
// flipGif scr="data:image/png;base64,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"
let flipCoin = document.querySelector("#flipCoin")
flipCoin.addEventListener("click", flipTheCoin)
let trophy = document.querySelector("#trophy")

function flipTheCoin(){

}


async function getTriviaData(){
    let response = await fetch("https://opentdb.com/api.php?amount=50&type=boolean")
    let triviaData = await response.json();
    return triviaData
}

// ##### MAIN FUNCTION #####
// lines below lay out variables and functions for main async function when called
// wrapping the api call in this main async function means I can use 'await'
async function main (){
    let trueButton = document.querySelector("#inputTrue");
    let falseButton = document.querySelector("#inputFalse");
    let questionField = document.querySelector("#question");
    let questionButton = document.querySelector("#nextQuestion");
    let resultLine = document.querySelector("#result") ;
    let scoreCountDisplay = document.querySelector("#score");
    let gameCountDisplay = document.querySelector("#gamesPlayed")
    let gameCounter = 0;
    let scoreCounter = 0;
    let newQuestion = 0;

    trueButton.addEventListener("click", isTrueCorrect);
    falseButton.addEventListener("click", isFalseCorrect);
    questionButton.addEventListener("click", nextQuestion);
    resultLine.hidden = true
    questionButton.hidden = true

    
// Function to hide t/f buttons when answer submitted, and show them again when new Q generated
function toggleButtonVisibility(){
    if(trueButton.hidden, falseButton.hidden){
    trueButton.hidden = false
    falseButton.hidden = false
     } else{
    trueButton.hidden=true 
    falseButton.hidden=true
    }
}

// Function to run question text through HTML special character decoder and return decoded string:
function decodeHTML(codedQuestion){
    var textArea = document.createElement('textArea');
    textArea.innerHTML = codedQuestion;
    let decodedQuestion = textArea.value 
    return decodedQuestion
}


// define  nextQuestion function:
function nextQuestion(event){
    toggleButtonVisibility()
    //GET NEW Q AND DECODE IT
    let newQ = decodeHTML(triviaData.results[newQuestion].question)
    questionField.textContent = newQ
    resultLine.hidden = true
    questionButton.hidden=true
    return newQuestion
    }

// If user selects true
    //  and is RIGHT: win message, add point 
    //  and is WRONG: lose message, docks point
    function isTrueCorrect(event){
            if(triviaData.results[newQuestion]["correct_answer"] === "True"){
                resultLine.textContent = "You got it right!!!";
                scoreCounter++;
                scoreCountDisplay.textContent = `Score: ${scoreCounter}`;
            } else {
                resultLine.textContent = "You got it wrong!!!";
                scoreCounter--;
                scoreCountDisplay.textContent = `Score: ${scoreCounter}`;
            }
           toggleButtonVisibility()
           resultLine.hidden=false
           questionButton.hidden=false
            newQuestion++;
            gameCounter++;
            gameCountDisplay.textContent = `Games played: ${gameCounter}`
        }
      
// If user selects false
    //and is RIGHT: win message, add point 
    //  and is WRONG: lose message, docks point
    function isFalseCorrect(event){

        scoreCounter.textContent = `Score: ${scoreCounter}`;
        if(triviaData.results[newQuestion]["correct_answer"] === "False"){
            resultLine.textContent = "Nice one u got it right";
            scoreCounter++;
            scoreCountDisplay.textContent = `Score: ${scoreCounter}`;
        
        } else {
            resultLine.textContent = "got it wrong :(";
            scoreCounter--;
            scoreCountDisplay.textContent = `Score: ${scoreCounter}`;
          }
          toggleButtonVisibility()
          resultLine.hidden=false
          questionButton.hidden=false
          newQuestion++
          gameCounter++
          gameCountDisplay.textContent = `Games played: ${gameCounter}`

    }

// Get API data and assign it to triviaData  
    let triviaData = await getTriviaData()
// Print question in browser
    
let decodedQuestion = decodeHTML(triviaData.results[newQuestion].question)
questionField.textContent = decodedQuestion
console.log(triviaData)

currentQuestion = triviaData.results[newQuestion]
    
}

main()


